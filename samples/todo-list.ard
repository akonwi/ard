use ard/io

struct Todo {
  title: Str,
  completed: Bool
}

impl (self: Todo) {
  fn get_str() Str {
    let box = match (self.completed) {
      true => "[x]",
      false => "[ ]"
    }
    "{{box}} {{self.title}}"
  }
}

fn render(list: [Todo]) {
  io.print("Todo List:")
  for todo in list {
    io.print(todo.get_str())
  }
}

mut list: [Todo] = [
  Todo { title: "Buy milk", completed: true }
]
render(list)

io.print("adding 2 items")
list.push(Todo { title: "Buy eggs", completed: false })
list.push(Todo { title: "Buy fruits", completed: false })

io.print("there are now {{list.size.as_str}} items in the list")
render(list)
